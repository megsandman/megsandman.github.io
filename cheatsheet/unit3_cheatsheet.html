<!DOCTYPE html>
<html>
  <head>
    <link type="text/css" rel="stylesheet" href="stylesheet.css">
    <link href='http://fonts.googleapis.com/css?family=Arvo' rel='stylesheet' type='text/css'>
    <title>SQL Cheat Sheet</title>
  </head>

  <body>
    <div id="container">
      <header>
        <h1>
         SQL Cheat Sheet
        </h1>
      </header>

      <div class="section" id="db-setup"><p class="section-header">Database Setup</p>

        <ul><li><span class="sub-section-header">Create Database:</span><br>
          <pre> CREATE DATABASE dog_information.db;</pre></li><br>

        <li><span class="sub-section-header">Create Table:</span>
          <pre> CREATE TABLE owners
  (id INTEGER PRIMARY KEY AUTOINCREMENT,
  first_name VARCHAR(64) NOT NULL,
  last_name VARCHAR(64) UNIQUE NOT NULL,
  dog_count INTEGER,
  created_at DATETIME NOT NULL,
  updated_at DATETIME NOT NULL);</pre></li><br>

        <li><span class="sub-section-header">Add Data To Table:</span><br>
          <pre> INSERT INTO owners
  (first_name, last_name, created_at, updated_at)
  VALUES
  (&#39;Meg&#39;, &#39;Sandman&#39;, 0, DATETIME(&#39;now&#39;), DATETIME(&#39;now&#39;));</pre></li><br>

        <li><span class="sub-section-header">Accessing a SQL database from Ruby:</span><br>
          <pre>require &#39;sqlite3&#39; #add SQLite3
&#36;db = SQLite3::Database.open &quot;dog_information.db&quot;
  #set database equal to variable &#36;db
&#36;db.execute(&quot;SELECT first_name FROM owners&quot;)
  #query database</pre></li><br>

        <li><span class="sub-section-header">Common Data Types: </span><br>
          INTEGER: stores integer values<br>
          FLOAT: stores floating values<br>
          BOOLEAN: stores TRUE or FALSE values<br>
          VARCHAR(n): stores a character string of variable length with max length n<br>
          CHARACTER(n): stores a character string of fixed-length n<br>
          DATETIME: stores year, month, day, hour, minute, and second values</li><br></ul>

          <div class="line"></div><br>
        <p class="section-header">Functions</p>

        <ul><li><span class="sub-section-header">SUM:</span> returns the sum of the values
          <pre>SELECT SUM(dog_count) FROM owners;</pre></li><br>

        <li><span class="sub-section-header">COUNT:</span> returns the number of values
          <pre>SELECT COUNT(id) FROM owners;</pre></li><br>

        <li><span class="sub-section-header">AVERAGE:</span> returns the average of the values<br>
          <pre>SELECT AVG(dog_count) FROM owners;</pre></li><br>

        <li><span class="sub-section-header">GROUP BY:</span> groups the result set by one or more columns<br>
          <pre>SELECT first_name, dog_count FROM owners
  GROUP BY first_name;</pre></li><br>

        <li><span class="sub-section-header">HAVING:</span> filters results when using aggregate functions<br>
          <pre>SELECT first_name FROM owners
  HAVING COUNT(dog_count) > 0;</pre></li></ul>

    </div>

    <div class="section" id="accessing-data"><p class="section-header">Accessing Data</p>

      <ul><li><span class="sub-section-header">Select Specific Column</span>
        <pre>SELECT first_name FROM owners;</pre></li><br>

      <li><span class="sub-section-header">Select All Columns</span>
        <pre>SELECT * FROM owners;</pre></li><br>

      <li><span class="sub-section-header">DISTINCT:</span> returns only distinct values if a column has duplicate values<br>
          <pre>SELECT DISTINCT first_name FROM owners;</pre></li><br>


      <li><span class="sub-section-header">WHERE:</span> used to filter results
        <pre>SELECT first_name FROM owners
  WHERE first_name = &#39;Meg&#39;;</pre></li><br>

      <li><span class="sub-section-header">IN:</span> checks for specific items in a list
      <pre>SELECT first_name FROM owners
  WHERE first_name IN (&#39;Meg&#39;, &#39;Molly&#39;, &#39;Martha&#39;);</pre></li><br>

      <li><span class="sub-section-header">LIKE:</span> pattern match with % as wildcard<br>
      <pre>SELECT first_name FROM owners
  WHERE first_name LIKE &#39;M%&#39;;</pre></li><br>

      <li><span class="sub-section-header">BETWEEN:</span> check for a range of values<br>
      <pre>SELECT first_name FROM owners
  WHERE id BETWEEN 1 AND 10;</li></ul>

      <br>
      <br>
      <p class="section-header">Joining Tables</p>

      <ul><li><span class="sub-section-header">Inner Join:</span> returns rows where there is a match in both tables, the default join type
      <pre>SELECT name, first_name FROM dogs
  JOIN owners ON dogs.owner_id = owners.id;</pre></li><br>

      <li><span class="sub-section-header">Natural Inner Join:</span> automatically uses all the matching column names for the join
      <pre>SELECT name, first_name FROM dogs
  NATURAL JOIN owners;</pre></li><br>

      <li><span class="sub-section-header">Left Outer Join:</span> returns all values from the left table, even if there is no match with the right (will give it a null value)
      <pre>SELECT name, first_name FROM dogs
  LEFT JOIN owners ON dogs.owner_id = owners.id;</pre></li><br>

      <li><span class="sub-section-header">Natural Left Outer Join:</span> automatically uses all the matching column names to join the tables, does not require records to have matching values
      <pre>SELECT name, first_name FROM dogs
  NATURAL LEFT OUTER JOIN owners;</pre></li></ul>

    </div>

    </div>
  </body>
</html>